<!DOCTYPE html>
<meta charset="UTF-8">
<style>

.node circle {
  fill: red;
  stroke: steelblue; 
  stroke-width: 1px;
}

.node text {
  font: 8px sans-serif;
}

.link {
  fill: none;
  stroke: #ccc;
  stroke-width: 2px; 
}
    /* Tooltip container */
    .tooltip {
      
        display: inline-block;
        border-bottom: 1px dotted black; /* If you want dots under the hoverable text */
    }
  
    /* Tooltip text */
    .tooltip .tooltiptext {
        visibility: hidden;
        width: 120px;
        bottom: 100%;
        left: 50%;
        margin-left: -60px; /* Use half of the width (120/2 = 60), to center the tooltip */
        background-color: black;
        color: #fff;
        text-align: center;
        padding: 5px 0;
        border-radius: 6px;

        /* Position the tooltip text - see examples below! */
        position: absolute;
        z-index: 1;
    }

    /* Show the tooltip text when you mouse over the tooltip container */
    .tooltip:hover .tooltiptext {
        visibility: visible;
    }

</style>

<body>

<!-- load the d3.js library --> 
<script src="https://d3js.org/d3.v5.min.js"></script>

<script>
  
  var treeData ={
      
    "name": "Covid-19",
    "children": [{
        "name": "Asia",
        "children": [{
            "name": "United Arab Emirates",
            "Confirmed": 11380,
            "Death": 89,
            "Recovered": 2181
        },{
            "name": "Turkey",
            "Confirmed": 114653,
            "Death": 2992,
            "Recovered": 38809
        },{
            "name": "Timor-Leste",
            "Confirmed": 24,
            "Death": 0,
            "Recovered": 6
        },{
            "name": "Thailand",        
            "Confirmed": 2938,
            "Death": 54,
            "Recovered": 2652
        },{
            "name": "Taiwan*",
            "Confirmed": 429,
            "Death": 6,
            "Recovered": 307
        },{
            "name": "Syria",
            "Confirmed": 43,
            "Death": 3,
            "Recovered": 21
        },{
            "name": "Sri Lanka",
            "Confirmed": 619,
            "Death": 7,
            "Recovered": 134
        },{

            "name": "Singapore",
            "Confirmed": 14951,
            "Death": 14,
            "Recovered": 1128
        },{

            "name": "Saudi Arabia",
            "Confirmed": 20077,
            "Death": 152,
            "Recovered": 2784
        },{

            "name": "Qatar",
            "Confirmed": 11921,
            "Death": 10,      
            "Recovered": 1134
        },{
            "name": "Philippines",
            "Confirmed": 7958,
            "Death": 530,
            "Recovered": 975
        },{
            "name": "Pakistan",
            "Confirmed": 14612,
            "Death": 312,
            "Recovered": 3233
        },{
            "name": "Oman",
            "Confirmed": 2131,
            "Death": 10,
            "Recovered": 364
        },{
            "name": "Nepal",
            "Confirmed": 54,
            "Death": 0,
            "Recovered": 16
        },{
          "name": "Mongolia",
          "Confirmed": 38,
          "Death": 0,
          "Recovered": 10
        },{
          "name": "Maldives",
          "Confirmed": 250,
          "Death": 0,
          "Recovered": 17
        },{
          "name": "Malaysia",
          "Confirmed": 5851,
          "Death": 100,
          "Recovered": 4032
        },{
          "name": "Lebanon",
          "Confirmed": 717,
          "Death": 24,
          "Recovered": 145
        },{
          "name": "Laos",
          "Confirmed": 19,
          "Death": 0,
          "Recovered": 7
        },{
          "name": "Kyrgyzstan",
          "Confirmed": 708,
          "Death": 8,
          "Recovered": 416
        },{
          "name": "Kuwait",
          "Confirmed": 3440,
          "Death": 23,
          "Recovered": 1176
        },{
          "name": "Korea, South",
          "Confirmed": 10761,
          "Death": 246,
          "Recovered": 8922
        },{
          "name": "Kazakhstan",
          "Confirmed": 3027,
          "Death": 25,
          "Recovered": 774
        },{
          "name": "Jordan",
          "Confirmed": 449,
          "Death": 8,
          "Recovered": 348
        },{
          "name": "Japan",
          "Confirmed": 13736,
          "Death": 394,
          "Recovered": 1899
        },{
          "name": "Israel",
          "Confirmed": 15728,
          "Death": 210,
          "Recovered": 7746
        },{
          "name": "Iraq",
          "Confirmed": 1928,
          "Death": 90,
          "Recovered": 1319
        },{
          "name": "Iran",
          "Confirmed": 92584,
          "Death": 5877,
          "Recovered": 72439
        },{
          "name": "Indonesia",
          "Confirmed": 9511,
          "Death": 773,
          "Recovered": 1254
        },{
          "name": "India",
          "Confirmed": 31324,
          "Death": 1008,
          "Recovered": 7747
        },{
          "name": "China",
          "children": [{
                "name": "Zhejiang",
                "Confirmed": 1268,
                "Death": 1,
                "Recovered": 1262,
            },{
                "name": "Yunnan",
                "Confirmed": 185,
                "Death": 2,
                "Recovered": 181
            },{
                "name": "Xinjiang",
                "Confirmed": 76,
                "Death": 3,
                "Recovered": 73
            },{
                "name": "Tibet",
                "Confirmed": 1,
                "Death": 0,
                "Recovered": 1
            }, {
                "name": "Tianjin",
                "Confirmed": 190,
                "Death": 3,
                "Recovered": 183
            },{
                "name": "Sichuan",
                "Confirmed": 561,
                "Death": 3,
                "Recovered": 558
            },{
                "name": "Shanxi",
                "Confirmed": 197,
                "Death": 0,
                "Recovered": 160
            },{
                "name": "Shanghai",
                "Confirmed": 645,
                "Death": 7,
                "Recovered": 584
            },{
                "name": "Shandong",
                "Confirmed": 787,
                "Death": 7,
                "Recovered": 771
            },{
                "name": "Shaanxi",
                "Confirmed": 306,
                "Death": 3,
                "Recovered": 253
            },{
                "name": "Qinghai",
                "Confirmed": 18,
                "Death": 0,
                "Recovered": 18
            },{
                "name": "Ningxia",
                "Confirmed": 75,
                "Death": 0,
                "Recovered": 75
            },{
                "name": "Macau",
                "Confirmed": 45,
                "Death": 0,
                "Recovered": 33
            },{
                "name": "Liaoning",
                "Confirmed": 146,
                "Death": 2,
                "Recovered": 143
            },{
                "name": "Jilin",
                "Confirmed": 110,
                "Death": 1,
                "Recovered": 99
            },{
                "name": "Jiangxi",
                "Confirmed": 937,
                "Death": 1,
                "Recovered": 936
            },{
                "name": "Jiangsu",
                "Confirmed": 653,
                "Death": 0,
                "Recovered": 647
            },{            
                "name": "Inner Mongolia",
                "Confirmed": 199,
                "Death": 1,
                "Recovered": 146
            },{
                "name": "Hunan",
                "Confirmed": 1019,
                "Death": 4,
                "Recovered": 1015
            },{
                "name": "Hubei",
                "Confirmed": 68128,
                "Death": 4512,
                "Recovered": 63616
            },{
                "name": "Hong Kong",
                "Confirmed": 1037,
                "Death": 4,
                "Recovered": 811
            },{
                "name": "Henan",
                "Confirmed": 1276,
                "Death": 22,
                "Recovered": 1254
            },{
                "name": "Heilongjiang",
                "Confirmed": 939,
                "Death": 13,
                "Recovered": 587
            },{
                "name": "Hebei",
                "Confirmed": 328,
                "Death": 6,
                "Recovered": 318
            },{
                "name": "Hainan",
                "Confirmed": 168,
                "Death": 6,
                "Recovered": 162
            },{
                "name": "Guizhou",
                "Confirmed": 147,
                "Death": 2,
                "Recovered": 145
            },{
                "name": "Guangxi",
                "Confirmed": 254,
                "Death": 2,
                "Recovered": 252
            },{
                "name": "Guangdong",
                "Confirmed": 1588,
                "Death": 8,
                "Recovered": 1554
            },{
                "name": "Gansu",
                "Confirmed": 139,
                "Death": 2,
                "Recovered": 137
            },{
                "name": "Fujian",
                "Confirmed": 355,
                "Death": 1,
                "Recovered": 352
            },{
                "name": "Chongqing",
                "Confirmed": 579,
                "Death": 6,
                "Recovered": 573
            },{
                "name": "Beijing",
                "Confirmed": 593,
                "Death": 9,
                "Recovered": 538
            },{
                "name": "Anhui",
                "Confirmed": 991,
                "Death": 6,
                "Recovered": 985
            }]
        },{
           "name": "Cambodia",
           "Confirmed": 122,
           "Death": 0,
           "Recovered": 119
        },{
           "name": "Burma",
           "Confirmed": 150,
           "Death": 5,
           "Recovered": 16
        },{       
           "name": "Brunei",
           "Confirmed": 138,
           "Death": 1,
           "Recovered": 124
        },{   
           "name": "Bhutan",
           "Confirmed": 7,
           "Death": 0,
           "Recovered": 5
        },{   
           "name": "Bangladesh",
           "Confirmed": 6462,
           "Death": 155,
           "Recovered": 139
        },{
           "name": "Bahrain",
           "Confirmed": 2811,
           "Death": 8,
           "Recovered": 1310
        },{
           "name": "Azerbaijan",
           "Confirmed": 1717,
           "Death": 22,
           "Recovered": 1221
        },{
           "name": "Armenia",
           "Confirmed": 1867,
           "Death": 30,
           "Recovered": 866
        },{
           "name": "Afghanistan",
           "Confirmed": 1828,
           "Death": 58,
           "Recovered": 228
  
        }]  
    }, {
        "name": "Africa",
        "children": [{
            "name": "Zimbabwe",
            "Confirmed": 32,
            "Death": 4,
            "Recovered": 5
        }, {
            "name": "Zambia",
            "Confirmed": 95,
            "Death": 3,
            "Recovered": 42
        }, {
            "name": "Western Sahara",
            "Confirmed": 6,
            "Death": 0,
            "Recovered": 5
        }, {
            "name": "Tunisia",
            "Confirmed": 975,
            "Death": 40,
            "Recovered": 279
        }, {
            "name": "Uganda",
            "Confirmed": 79,
            "Death": 0,
            "Recovered": 52
        }, {
            "name": "Togo",
            "Confirmed": 99,
            "Death": 6,
            "Recovered": 63
        }, {
            "name": "Tanzania",
            "Confirmed": 299,
            "Death": 10,
            "Recovered": 48
        }, {
            "name": "Sudan",
            "Confirmed": 318,
            "Death": 25,
            "Recovered": 31
        }, {
            "name": "South Sudan", 
            "Confirmed": 34,
            "Death": 0,
            "Recovered": 0
        }, {
            "name": "South Africa",
            "Confirmed": 4996,
            "Death": 93,
            "Recovered": 2073
        }, {
            "name": "Somalia",
            "Confirmed": 528,
            "Death": 28,
            "Recovered": 19
        }, {
            "name": "Sierra Leone",
            "Confirmed": 104,
            "Death": 4,
            "Recovered": 12
        }, {
            "name": "Seychelles",
            "Confirmed": 11,
            "Death": 0,
            "Recovered": 6
        }, {
            "name": "Senegal",
            "Confirmed": 823,
            "Death": 9,
            "Recovered": 296
        }, {
            "name": "Sao Tome and Principe",
            "Confirmed": 8,
            "Death": 0,
            "Recovered": 4
        }, {
            "name": "Rwanda",
            "Confirmed": 212,
            "Death": 0,
            "Recovered": 95
        }, {
            "name": "Nigeria",
            "Confirmed": 1532,
            "Death": 44,
            "Recovered": 255
        }, {
            "name": "Niger",
            "Confirmed": 709,
            "Death": 31,
            "Recovered": 403
        }, {
            "name": "Namibia",
            "Confirmed": 16,
            "Death": 0,
            "Recovered": 8
        }, {
            "name": "Mozambique",
            "Confirmed": 76,
            "Death": 0,
            "Recovered": 12
        }, {
            "name": "Morocco",
            "Confirmed": 4252,
            "Death": 165,
            "Recovered": 778
        }, {
            "name": "Mauritius",
            "Confirmed": 334,
            "Death": 10,
            "Recovered": 303
        }, {
            "name": "Mauritania",
            "Confirmed": 7,
            "Death": 1,
            "Recovered": 6
        }, {
            "name": "Mali",
            "Confirmed": 424,
            "Death": 24,
            "Recovered": 122
        }, {
            "name": "Malawi",
            "Confirmed": 36,
            "Death": 3,
            "Recovered": 5
        }, {
            "name": "Madagascar",
            "Confirmed": 128,
            "Death": 0,
            "Recovered": 82
        }, {
            "name": "Libya",
            "Confirmed": 61,
            "Death": 2,
            "Recovered": 18
        }, {
            "name": "Liberia",
            "Confirmed": 141,
            "Death": 16,
            "Recovered": 45
        }, {
            "name": "Kenya",
            "Confirmed": 374,
            "Death": 14,
            "Recovered": 124
        },{
            "name": "Guinea-Bissau",
            "Confirmed": 73,
            "Death": 1,
            "Recovered": 18
        },{ 
            "name": "Guinea",
            "Confirmed": 1240,
            "Death": 7,
            "Recovered": 269
        },{
            "name": "Ghana",
            "Confirmed": 1671,
            "Death": 16,
            "Recovered": 188
        },{
            "name": "Gambia",
            "Confirmed": 10,
            "Death": 1,
            "Recovered": 8
        }, {
            "name": "Gabon",
            "Confirmed": 238,
            "Death": 3,
            "Recovered": 53
        },{
            "name": "Ethiopia",
            "Confirmed": 126,
            "Death": 3,
            "Recovered": 50
        },{
            "name": "Eswatini",
            "Confirmed": 71,
            "Death": 1,
            "Recovered": 10
        },{
            "name": "Eritrea",
            "Confirmed": 39,
            "Death": 0,
            "Recovered": 19
        },{
            "name": "Equatorial Guinea",
            "Confirmed": 315,
            "Death": 1,
            "Recovered": 9
        }, {
            "name": "Egypt",
            "Confirmed": 5042,
            "Death": 359,
            "Recovered": 1304
        },{
            "name": "Djibouti",
            "Confirmed": 1072,
            "Death": 2,
            "Recovered": 498
        },{
            "name": "Cote d'Ivoire",
            "Confirmed": 1183,
            "Death": 14,
            "Recovered": 525
        },{
            "name": "Congo (Kinshasa)", 
            "Confirmed": 471,
            "Death": 30,
            "Recovered": 56
        },{
            "name": "Congo (Brazzaville)",
            "Confirmed": 207,
            "Death": 8,
            "Recovered": 19
        },{
            "name": "Chad",
            "Confirmed": 52,
            "Death": 2,
            "Recovered": 19
        }, {
            "name": "Central African Republic",
            "Confirmed": 50,
            "Death": 0,
            "Recovered": 10
        },{
            "name": "Cameroon",
            "Confirmed": 1705,
            "Death": 58,
            "Recovered": 915
        },{
            "name": "Cabo Verde",
            "Confirmed": 114,
            "Death": 1,
            "Recovered": 2
        },{
            "name": "Burundi",
            "Confirmed": 11,
            "Death": 1,
            "Recovered": 4
        },{
            "name": "Burkina Faso",
            "Confirmed": 638,
            "Death": 42,
            "Recovered": 476
        },{
            "name": "Botswana",
            "Confirmed": 23,
            "Death": 1,
            "Recovered": 0
        },{
            "name": "Benin",
            "Confirmed": 64,
            "Death": 1,
            "Recovered": 33
        },{
            "name": "Angola",
            "Confirmed": 27,
            "Death": 2,
            "Recovered": 6
        },{
            "name": "Algeria",
            "Confirmed": 3649,
            "Death": 437,
            "Recovered": 1651
        }]
    }, {
        "name": "Australia/Oceania",
        "children": [{
            "name": "Papua New Guinea",
            "Confirmed": 8,
            "Death": 0,
            "Recovered": 0
        },{
            "name": "New Zealand",
            "Confirmed": 1474,
            "Death": 19,
            "Recovered": 1229
        },{
            "name": "Fiji",
            "Confirmed": 18,
            "Death": 0,
            "Recovered": 12
        },{
            "name": "Australia",
            "children": [{
                "name": "Western Australia",
                "Confirmed": 550,
                "Death": 8,
                "Recovered": 495
            },{
                "name": "Victoria",
                "Confirmed": 1354,
                "Death": 18,
                "Recovered": 1287
            },{
                "name": "Tasmania",
                "Confirmed": 218,
                "Death": 11,
                "Recovered": 137
            },{
                "name": "South Australia",
                "Confirmed": 438,
                "Death": 4,
                "Recovered": 420
            },{
                "name": "Queensland",
                "Confirmed": 1034,
                "Death": 6,
                "Recovered": 934
            },{
                "name": "Northern Territory",
                "Confirmed": 28,
                "Death": 0,
                "Recovered": 25
            },{
                "name": "New South Wales",
                "Confirmed": 3016,
                "Death": 39,
                "Recovered": 2266
            },{
                "name": "Australian Capital Territory",
                "Confirmed": 106,
                "Death": 3,
                "Recovered": 101
            }]
        }]
    }, {
        "name": "Europe",
        "children": [{
            "name": "United Kingdom",
            "Confirmed": 161145,
            "Death": 21678,
            "Recovered": 0,            
            "children": [{
                "Province State": "Turks and Caicos Islands",
                "Confirmed": 12,
                "Death": 1,
                "Recovered": 5
            }, {   
                "Province State": "Montserrat",
                "Confirmed": 11,
                "Death": 1,
                "Recovered": 2
            },{   
                "Province State": "Isle of Man",
                "Confirmed": 309,
                "Death": 21,
                "Recovered": 252
            },{   
                "Province State": "Gibraltar",
                "Confirmed": 141,
                "Death": 0,
                "Recovered": 131
            },{   
                "Province State": "Falkland Islands (Malvinas)",
                "Confirmed": 13,
                "Death": 0,
                "Recovered": 11
            },{   
                "Province State": "Channel Islands",
                "Confirmed": 530,
                "Death": 36,
                "Recovered": 352
            },{   
                "Province State": "Cayman Islands",
                "Confirmed": 70,
                "Death": 1,
                "Recovered": 10
            },{   
                "Province State": "British Virgin Islands",
                "Confirmed": 6,
                "Death": 1,
                "Recovered": 3
            },{   
                "Province State": "Bermuda",
                "Confirmed": 110,
                "Death": 6,
                "Recovered": 44
            },{   
                "Province State": "Anguilla",
                "Confirmed": 3,
                "Death": 0,
                "Recovered": 3
            }]
        },{        
            "name": "Ukraine",
            "Confirmed": 9410,
            "Death": 239,
            "Recovered": 992
        },{
            "name": "Switzerland",
            "Confirmed": 29264,
            "Death": 1699,
            "Recovered": 22600
        },{
            "name": "Sweden",
            "Confirmed": 19621,
            "Death": 2355,
            "Recovered": 1005
        },{
            "name": "Spain",
            "Confirmed": 232128,
            "Death": 23822,
            "Recovered": 123903
        },{
            "name": "Slovenia",
            "Confirmed": 1408,
            "Death": 86,
            "Recovered": 223
        },{
            "name": "Slovakia",
            "Confirmed": 1384,
            "Death": 20,
            "Recovered": 423
        },{
            "name": "Serbia",
            "Confirmed": 6630,
            "Death": 125,
            "Recovered": 870
        },{
            "name": "San Marino",
            "Confirmed": 553,
            "Death": 41,
            "Recovered": 64
        },{
            "name": "Russia",
            "Confirmed": 93558,
            "Death": 867,
            "Recovered": 8456
        },{
            "name": "Romania",
            "Confirmed": 11616,
            "Death": 663,
            "Recovered": 3404
        },{
            "name": "Portugal",
            "Confirmed": 24322,
            "Death": 948,
            "Recovered": 1389
        },{
            "name": "Poland",
            "Confirmed": 12218,
            "Death": 596,
            "Recovered": 2655
        },{
            "name": "Norway",
            "Confirmed": 7660,
            "Death": 206,
            "Recovered": 32
        },{
            "name": "North Macedonia",
            "Confirmed": 1421,
            "Death": 71,
            "Recovered": 589
        },{
            "name": "Netherlands",
            "Confirmed": 38416,
            "Death": 4566,
            "Recovered":0,
            "children": [{
                "name": "Sint Maarten",
                "Confirmed": 75,
                "Death": 13,
                "Recovered": 33
            },{
                "name": "Curacao",
                "Confirmed": 16,
                "Death": 1,
                "Recovered": 11
            },{
                "name": "Bonaire, Sint Eustatius and Saba",
                "Confirmed": 5,
                "Death": 0,
                "Recovered": 0
            },{
                "name": "Aruba",
                "Confirmed": 100,
                "Death": 2,
                "Recovered": 73
  
            }]
        },{
            "name": "Montenegro",
            "Confirmed": 321,
            "Death": 7,
            "Recovered": 19
        },{
            "name": "Monaco",
            "Confirmed": 95,
            "Death": 4,
            "Recovered": 50
        },{
            "name": "Moldova",
            "Confirmed": 3638,
            "Death": 103,
            "Recovered": 975
        },{
            "name": "Malta",
            "Confirmed": 458,
            "Death": 4,
            "Recovered": 303
        },{
            "name": "Luxembourg",
            "Confirmed": 3741,
            "Death": 89,
            "Recovered": 3123
        },{
            "name": "Lithuania",
            "Confirmed": 1344,
            "Death": 44,
            "Recovered": 536
        },{
            "name": "Liechtenstein",
            "Confirmed": 82,
            "Death": 1,
            "Recovered": 55
        },{
            "name": "Latvia",
            "Confirmed": 836,
            "Death": 13,
            "Recovered": 267
        },{
            "name": "Kosovo",
            "Confirmed": 510,
            "Death": 12,
            "Recovered": 93
        },{
            "name": "Italy",
            "Confirmed": 201505,
            "Death": 27359,
            "Recovered": 68941
        },{
            "name": "Ireland",
            "Confirmed": 19877,
            "Death": 1159,
            "Recovered": 9233
        },{
            "name": "Iceland",
            "Confirmed": 1795,
            "Death": 10,
            "Recovered": 1636
        },{    
            "name": "Hungary",    
            "Confirmed": 2649,
            "Death": 291,
            "Recovered": 516
        },{
            "name": "Greece",
            "Confirmed": 2566,
            "Death": 138,
            "Recovered": 577
        },{
            "name": "Germany",
            "Confirmed": 159912,
            "Death": 6314,
            "Recovered": 117400
        },{
            "name": "Georgia",
            "Confirmed": 511,
            "Death": 6,
            "Recovered": 168
        },{
            "name": "France",
            "Confirmed": 167605,
            "Death": 23660,
            "Recovered": 46886,
            "children": [{
                "name": "St Martin",
                "Confirmed": 38,
                "Death": 3,
                "Recovered": 24
            },{
                "name": "Saint Pierre and Miquelon",
                "Confirmed": 1,
                "Death": 0,
                "Recovered": 0
            },{
                "name": "Saint Barthelemy",
                "Confirmed": 6,
                "Death": 0,
                "Recovered": 6
            },{
                "name": "Reunion",
                "Confirmed": 418,
                "Death": 0,
                "Recovered": 300
            },{
                "name": "New Caledonia",
                "Confirmed": 18,
                "Death": 0,
                "Recovered": 17
            },{
                "name": "Mayotte",
                "Confirmed": 460,
                "Death": 4,
                "Recovered": 235
            },{
                "name": "Martinique",
                "Confirmed": 175,
                "Death": 14,
                "Recovered": 83
            },{
                "name": "Guadeloupe",
                "Confirmed": 149,
                "Death": 12,
                "Recovered": 82
            },{
                "name": "French Polynesia",
                "Confirmed": 58,
                "Death": 0,
                "Recovered": 49
            },{
                "name": "French Guiana",
                "Confirmed": 125,
                "Death": 1,
                "Recovered": 93
            }]
        },{
            "name": "Finland",
            "Confirmed": 4740,
            "Death": 199,
            "Recovered": 2800
        },{
            "name": "Estonia",
            "Confirmed": 1660,
            "Death": 50,
            "Recovered": 240
        },{
            "name": "Denmark",
            "Confirmed": 8851,
            "Death": 434,
            "Recovered": 6121,
            "children":[{
                "name": "Greenland",
                "Confirmed": 11,
                "Death": 0,
                "Recovered": 11
            },{
                "name": "Faroe Islands",
                "Confirmed": 187,
                "Death": 0,
                "Recovered": 181
            }]
        },{
            "name": "Czechia",
            "Confirmed": 7504,
            "Death": 227,
            "Recovered": 2948
        },{
            "name": "Cyprus",
            "Confirmed": 837,
            "Death": 15,
            "Recovered": 148
        },{
            "name": "Croatia",
            "Confirmed": 2047,
            "Death": 63,
            "Recovered": 1232
        },{
            "name": "Bulgaria",
            "Confirmed": 1399,
            "Death": 58,
            "Recovered": 222
        },{
            "name": "Bosnia and Herzegovina",
            "Confirmed": 1585,
            "Death": 63,
            "Recovered": 682
        },{
            "name": "Belgium",
            "Confirmed": 47334,
            "Death": 7331,
            "Recovered": 10943
        },{
            "name": "Belarus",
            "Confirmed": 12208,
            "Death": 79,
            "Recovered": 1993
        },{
            "name": "Austria",
            "Confirmed": 15357,
            "Death": 569,
            "Recovered": 12580
        },{
            "name": "Andorra",
            "Confirmed": 743,
            "Death": 41,
            "Recovered": 398
        },{
            "name": "Albania",
            "Confirmed": 750,
            "Death": 30,
            "Recovered": 431
  
        }]
    }, {
        "name": "North America",
        "children": [{
            "name": "United States",
            "Confirmed": 0,
            "Death": 0,
            "Recovered": 0,
                "children": [{
                    "name": "Wyoming",
                    "Confirmed": 536,
                    "Death": 7,
                    "Recovered": 0
                },{
                    "name": "Wisconsin",
                    "Confirmed": 6289,
                    "Death": 300,
                    "Recovered": 0
                },{
                    "name": "West Virginia",
                    "Confirmed": 1095,
                    "Death": 38,
                    "Recovered": 0
                },{
                    "name": "Washington",
                    "Confirmed": 13842,
                    "Death": 786,
                    "Recovered": 0
                },{
                    "name": "Virginia",
                    "Confirmed": 14339,
                    "Death": 492,
                    "Recovered": 0
                },{
                    "name": "Virgin Islands",
                    "Confirmed": 57,
                    "Death": 4,
                    "Recovered": 0
                },{
                    "name": "Vermont",
                    "Confirmed": 862,
                    "Death": 47,
                    "Recovered": 0
                },{
                    "name": "Utah",
                    "Confirmed": 4345,
                    "Death": 41,
                    "Recovered": 0
                },{
                    "name": "Texas",
                    "Confirmed": 26357,
                    "Death": 719,
                    "Recovered": 0
                },{
                    "name": "Tennessee",
                    "Confirmed": 10052,
                    "Death": 188,
                    "Recovered": 0
                },{
                    "name": "South Dakota",
                    "Confirmed": 2313,
                    "Death": 11,
                    "Recovered": 0
                },{
                    "name": "South Carolina",
                    "Confirmed": 5735,
                    "Death": 192,
                    "Recovered": 0
                },{
                    "name": "Rhode Island",
                    "Confirmed": 7927,
                    "Death": 239,
                    "Recovered": 0
                },{
                    "name": "Puerto Rico",
                    "Confirmed": 1400,
                    "Death": 86,
                    "Recovered": 0
                },{
                    "name": "Pennsylvania",
                    "Confirmed": 45137,
                    "Death": 2046,
                    "Recovered": 0
                },{
                    "name": "Oregon",
                    "Confirmed": 2385,
                    "Death": 99,
                    "Recovered": 0
                },{
                    "name": "Oklahoma",
                    "Confirmed": 3410,
                    "Death": 207,
                    "Recovered": 0
                },{
                    "name": "Ohio",
                    "Confirmed": 16769,
                    "Death": 799,
                    "Recovered": 0
                },{
                    "name": "Northern Mariana Islands",
                    "Confirmed": 14,
                    "Death": 2,
                    "Recovered": 0
                },{
                    "name": "North Dakota",
                    "Confirmed": 991,
                    "Death": 19,
                    "Recovered": 0
                },{
                    "name": "North Carolina",
                    "Confirmed": 9755,
                    "Death": 363,
                    "Recovered": 0
                },{
                    "name": "New York",
                    "Confirmed": 295106,
                    "Death": 22912,
                    "Recovered": 0
                },{
                    "name": "New Mexico",
                    "Confirmed": 2974,
                    "Death": 105,
                    "Recovered": 0
                },{
                    "name": "New Jersey",
                    "Confirmed": 113856,
                    "Death": 6442,
                    "Recovered": 0
                },{
                    "name": "New Hampshire",
                    "Confirmed": 2010,
                    "Death": 60,
                    "Recovered": 0
                },{
                    "name": "Nevada",
                    "Confirmed": 4821,
                    "Death": 219,
                    "Recovered": 0
                },{
                    "name": "Nebraska",
                    "Confirmed": 3517,
                    "Death": 56,
                    "Recovered": 0
                },{
                    "name": "Montana",
                    "Confirmed": 451,
                    "Death": 15,
                    "Recovered": 0
                },{
                    "name": "Missouri",
                    "Confirmed": 7450,
                    "Death": 330,
                    "Recovered": 0
                },{
                    "name": "Mississippi",
                    "Confirmed": 6342,
                    "Death": 239,
                    "Recovered": 0
                },{
                    "name": "Minnesota",
                    "Confirmed": 4181,
                    "Death": 301,
                    "Recovered": 0
                },{
                    "name": "Michigan",
                    "Confirmed": 39262,
                    "Death": 3568,
                    "Recovered": 0
                },{
                    "name": "Massachusetts",
                    "Confirmed": 58302,
                    "Death": 3153,
                    "Recovered": 0
                },{
                    "name": "Maryland",
                    "Confirmed": 20113,
                    "Death": 1016,
                    "Recovered": 0
                },{
                    "name": "Maine",
                    "Confirmed": 1040,
                    "Death": 51,
                    "Recovered": 0
                },{
                    "name": "Louisiana",
                    "Confirmed": 27286,
                    "Death": 1801,
                    "Recovered": 0
                },{
                    "name": "Kentucky",
                    "Confirmed": 4375,
                    "Death": 225,
                    "Recovered": 0
                },{
                    "name": "Kansas",
                    "Confirmed": 3652,
                    "Death": 127,
                    "Recovered": 0
                },{
                    "name": "Iowa",
                    "Confirmed": 6376,
                    "Death": 136,
                    "Recovered": 0
                },{
                    "name": "Indiana",
                    "Confirmed": 16588,
                    "Death": 901,
                    "Recovered": 0
                },{
                    "name": "Illinois",
                    "Confirmed": 48102,
                    "Death": 2125,
                    "Recovered": 0
                },{
                    "name": "Idaho",
                    "Confirmed": 1952,
                    "Death": 60,
                    "Recovered": 0
                },{
                    "name": "Hawaii",
                    "Confirmed": 609,
                    "Death": 16,
                    "Recovered": 0
                },{
                    "name": "Guam",
                    "Confirmed": 141,
                    "Death": 5,
                    "Recovered": 0
                },{
                    "name": "Grand Princess",
                    "Confirmed": 103,
                    "Death": 3,
                    "Recovered": 0
                },{
                    "name": "Georgia",
                    "Confirmed": 24922,
                    "Death": 1036,
                    "Recovered": 0
                },{
                    "name": "Florida",
                    "Confirmed": 32848,
                    "Death": 1171,
                    "Recovered": 0
                },{
                    "name": "District of Columbia",
                    "Confirmed": 3994,
                    "Death": 190,
                    "Recovered": 0
                },{
                    "name": "Diamond Princess",
                    "Confirmed": 49,
                    "Death": 0,
                    "Recovered": 0
                },{
                    "name": "Delaware",
                    "Confirmed": 4575,
                    "Death": 137,
                    "Recovered": 0
                },{
                    "name": "Connecticut",
                    "Confirmed": 26312,
                    "Death": 2087,
                    "Recovered": 0
                },{
                    "name": "Colorado",
                    "Confirmed": 14316,
                    "Death": 736,
                    "Recovered": 0
                },{
                    "name": "California",
                    "Confirmed": 46164,
                    "Death": 1864,
                    "Recovered": 0
                },{
                    "name": "Arkansas",
                    "Confirmed": 3127,
                    "Death": 57,
                    "Recovered": 0
                },{
                    "name": "Arizona",
                    "Confirmed": 6955,
                    "Death": 275,
                    "Recovered": 0
                },{
                    "name": "Alaska",
                    "Confirmed": 351,
                    "Death": 9,
                    "Recovered": 0
                },{
                    "name": "Alabama",
                    "Confirmed": 6750,
                    "Death": 242,
                    "Recovered": 0
                }]
            },{
                "name": "Saint Vincent and the Grenadines",
                "Confirmed": 15,
                "Death": 0,
                "Recovered": 8
            },{
                "name": "Saint Lucia",
                "Confirmed": 15,
                "Death": 0,
                "Recovered": 15
            },{
                "name": "Saint Kitts and Nevis",
                "Confirmed": 15,
                "Death": 0,
                "Recovered": 4
            },{
                "name": "Panama",
                "Confirmed": 6021,
                "Death": 167,
                "Recovered": 455
            },{
                "name": "Nicaragua",
                "Confirmed": 13,
                "Death": 3,
                "Recovered": 7
            },{
                "name": "Mexico",
                "Confirmed": 16752,
                "Death": 1569,
                "Recovered": 11423
            },{
                "name": "Jamaica",
                "Confirmed": 364,
                "Death": 7,
                "Recovered": 29
            },{
                "name": "Honduras",
                "Confirmed": 702,
                "Death": 64,
                "Recovered": 79
            },{
                "name": "Haiti",
                "Confirmed": 76,
                "Death": 6,
                "Recovered": 8
            },{
                "name": "Guatemala",
                "Confirmed": 530,
                "Death": 15,
                "Recovered": 49
            },{
                "name": "Grenada",
                "Confirmed": 19,
                "Death": 0,
                "Recovered": 10
            },{
                "name": "El Salvador",
                "Confirmed": 345,
                "Death": 8,
                "Recovered": 97
            },{
                "name": "Dominican Republic",
                "Confirmed": 6416,
                "Death": 286,
                "Recovered": 1165
            },{
                "name": "Dominica",
                "Confirmed": 16,
                "Death": 0,
                "Recovered": 13
            },{
                "name": "Diamond Princess",
                "Confirmed": 712,
                "Death": 13,
                "Recovered": 645
            },{
                "name": "Cuba",
                "Confirmed": 1437,
                "Death": 58,
                "Recovered": 575
            },{
                "name": "Costa Rica",
                "Confirmed": 705,
                "Death": 6,
                "Recovered": 306
            },{
                "name": "Canada",
                "children":[{
                    "name": "Yukon",
                    "Confirmed": 11,
                    "Death": 0,
                    "Recovered": 0
                },{
                    "name": "Saskatchewan",
                    "Confirmed": 366,
                    "Death": 5,
                    "Recovered": 0
                },{
                    "name": "Recovered",
                    "Confirmed": 0,
                    "Death": 0,
                    "Recovered": 19231
                },{
                    "name": "Quebec",
                    "Confirmed": 25761,
                    "Death": 1683,
                    "Recovered": 0
                },{
                    "name": "Prince Edward Island",
                    "Confirmed": 27,
                    "Death": 0,
                    "Recovered": 0
                },{
                    "name": "Ontario",
                    "Confirmed": 16500,
                    "Death": 1072,
                    "Recovered": 0
                },{
                    "name": "Nova Scotia",
                    "Confirmed": 915,
                    "Death": 27,
                    "Recovered": 0
                },{
                    "name": "Northwest Territories",
                    "Confirmed": 5,
                    "Death": 0,
                    "Recovered": 0
                },{
                    "name": "Newfoundland and Labrador",
                    "Confirmed": 258,
                    "Death": 3,
                    "Recovered": 0
                },{
                    "name": "New Brunswick",
                    "Confirmed": 118,
                    "Death": 0,
                    "Recovered": 0
                },{
                    "name": "Manitoba",
                    "Confirmed": 273,
                    "Death": 6,
                    "Recovered": 0
                },{
                    "name": "Grand Princess",
                    "Confirmed": 13,
                    "Death": 0,
                    "Recovered": 0
                },{
                    "name": "Diamond Princess",
                    "Confirmed": 0,
                    "Death": 1,
                    "Recovered": 0
                },{
                    "name": "British Columbia",
                    "Confirmed": 2053,
                    "Death": 106,
                    "Recovered": 0
                },{
                    "name": "Alberta",
                    "Confirmed": 4850,
                    "Death": 80,
                    "Recovered": 0
                }]
            },{
                "name": "Belize",
                "Confirmed": 18,
                "Death": 2,
                "Recovered": 9
            },{
                "name": "Barbados",
                "Confirmed": 80,
                "Death": 6,
                "Recovered": 39
            },{
                "name": "Bahamas",
                "Confirmed": 80,
                "Death": 11,
                "Recovered": 23
            },{
                "name": "Antigua and Barbuda",
                "Confirmed": 24,
                "Death": 3,
                "Recovered": 11
            }]
    }, {
        "name": "South America",
        "children": [{
                "name": "Venezuela",
                "Confirmed": 329,
                "Death": 10,
                "Recovered": 142
            },{
                "name": "Uruguay",
                "Confirmed": 625,
                "Death": 15,
                "Recovered": 394
            },{
                "name": "Trinidad and Tobago",
                "Confirmed": 116,
                "Death": 8,
                "Recovered": 59
            },{
                "name": "Suriname",
                "Confirmed": 10,
                "Death": 1,
                "Recovered": 7
            },{
                "name": "Peru",
                "Confirmed": 31190,
                "Death": 854,
                "Recovered": 9179
            },{
                "name": "Paraguay",
                "Confirmed": 239,
                "Death": 9,
                "Recovered": 102
            },{
                "name": "Guyana",
                "Confirmed": 74,
                "Death": 8,
                "Recovered": 15
            },{
                "name": "Ecuador",
                "Confirmed": 24258,
                "Death": 871,
                "Recovered": 1557
            },{
                "name": "Colombia",
                "Confirmed": 5949,
                "Death": 269,
                "Recovered": 1268
            },{
                "name": "Chile",
                "Confirmed": 14365,
                "Death": 207,
                "Recovered": 7710
            },{
                "name": "Brazil",
                "Confirmed": 73235,
                "Death": 5083,
                "Recovered": 32544
            },{
                "name": "Bolivia",
                "Confirmed": 1014,
                "Death": 53,
                "Recovered": 98
            },{
                "name": "Argentina",
                "Confirmed": 4127,
                "Death": 207,
                "Recovered": 1162
            }]
     }]
 
};


//set the dimensions and margins of the diagram
var margin = {top: 20, right: 90, bottom: 30, left: 90},
    width = 960 - margin.left - margin.right,
    height = 500 - margin.top - margin.bottom;

var colorScale = d3.scaleLinear()
    .domain([0, 1])
    .range(['red', 'green']);
var widthScale = d3.scaleLinear()
    .domain([1,80])
    .range([1, 10]);

// append the svg object to the body of the page
// appends a 'group' element to 'svg'
// moves the 'group' element to the top left margin
var svg = d3.select("body").append("svg")
    .attr("width", width + margin.right + margin.left)
    .attr("height", height + margin.top + margin.bottom)
  .append("g")
    .attr("transform", "translate("
          + margin.left + "," + margin.top + ")");

var i = 0,
    duration = 750,
    root;

// declares a tree layout and assigns the size
var treemap = d3.tree().size([height, width]);

// Assigns parent, children, height, depth
root = d3.hierarchy(treeData, function(d) { return d.children; });
root.x0 = height / 2;
root.y0 = 0;

// Collapse after the second level
root.children.forEach(collapse);

update(root);

// Collapse the node and all it's children
function collapse(d) {
  if(d.children) {
    d._children = d.children
    d._children.forEach(collapse)
    d.children = null
  }
}

function update(source) {

  // Assigns the x and y position for the nodes
  var treeData = treemap(root);

  // Compute the new tree layout.
  var nodes = treeData.descendants(),
      links = treeData.descendants().slice(1);

  // Normalize for fixed-depth.
  nodes.forEach(function(d){ d.y = d.depth * 180});

  // ****************** Nodes section ***************************

  // Update the nodes...
  var node = svg.selectAll('g.node')
      .data(nodes, function(d) {return d.id || (d.id = ++i); });
  // Enter any new modes at the parent's previous position.
  var nodeEnter = node.enter().append('g')
      .attr('class', 'node')
      .attr("transform", function(d) {
        return "translate(" + source.y0 + "," + source.x0 + ")";
    })
    .on('click', click)
    .on("mouseover", function(d) {
          var g = d3.select(this); // The node
          // The class is used to remove the additional text later
          var info = g.append('text')
             .classed('info', true)
             .attr('x', 400)
             .attr('y', 0)
             .text(function(d) { return "Confirmed: " + d.data.Confirmed + "Death: " + d.data.Death; })
      })
      .on("mouseout", function() {
          // Remove the info text on mouse out.
          d3.select(this).select('text.info').remove()
        });
    ;
  // Define the div for the tooltip
var div = d3.select("body").append("div")   
    .attr("class", "tooltip")               
    .style("opacity", 0);


  // Add Circle for the nodes
  nodeEnter.append('circle')
      .attr('class', 'node')
      .attr('r', 1e-6)
      .style("fill", function(d) {
          return d._children ? "lightsteelblue" : "grey";
      })
      .style("stroke", function(d){return colorScale(d.data.female/(d.data.female + d.data.male))});

  // Add labels for the nodes
  nodeEnter.append('text')
      .attr("dy", ".35em")
      .attr("x", function(d) {
          return d.children || d._children ? -13 : 13;
      })
      .attr("text-anchor", function(d) {
          return d.children || d._children ? "end" : "start";
      })
      .text(function(d) { return d.data.name; })
      .style("fill", function(d){return colorScale(d.data.female/(d.data.value))});

  // UPDATE
  var nodeUpdate = nodeEnter.merge(node);

  // Transition to the proper position for the node
  nodeUpdate.transition()
    .duration(duration)
    .attr("transform", function(d) { 
        return "translate(" + d.y + "," + d.x + ")";
     });

  // Update the node attributes and style
  nodeUpdate.select('circle.node')
    .attr('r', 3)
    .style("fill", function(d) {
        return d._children ? "lightsteelblue" : "grey";
    })
    .attr('cursor', 'pointer');


  // Remove any exiting nodes
  var nodeExit = node.exit().transition()
      .duration(duration)
      .attr("transform", function(d) {
          return "translate(" + source.y + "," + source.x + ")";
      })
      .remove();

  // On exit reduce the node circles size to 0
  nodeExit.select('circle')
    .attr('r', 3);

  // On exit reduce the opacity of text labels
  nodeExit.select('text')
    .style('fill-opacity', 1e-6);

  // ****************** links section ***************************

  // Update the links...
  var link = svg.selectAll('path.link')
      .data(links, function(d) { return d.id; })
      .style('stroke-width', function(d){
        return widthScale(d.data.value)
      });

  // Enter any new links at the parent's previous position.
  var linkEnter = link.enter().insert('path', "g")
      .attr("class", "link")
      .attr('d', function(d){
        var o = {x: source.x0, y: source.y0}
        return diagonal(o, o)
      })
      .style('stroke-width', function(d){
        return widthScale(d.data.value)
      });

  // UPDATE
  var linkUpdate = linkEnter.merge(link);

  // Transition back to the parent element position
  linkUpdate.transition()
      .duration(duration)
      .attr('d', function(d){ return diagonal(d, d.parent) });

  // Remove any exiting links
  var linkExit = link.exit().transition()
      .duration(duration)
      .attr('d', function(d) {
        var o = {x: source.x, y: source.y}
        return diagonal(o, o)
      })
      .style('stroke-width', function(d){
        return widthScale(d.data.value)
      })
      .remove();

  // Store the old positions for transition.
  nodes.forEach(function(d){
    d.x0 = d.x;
    d.y0 = d.y;
  });

  // Creates a curved (diagonal) path from parent to the child nodes
  function diagonal(s, d) {

    path = `M ${s.y} ${s.x}
            C ${(s.y + d.y) / 2} ${s.x},
              ${(s.y + d.y) / 2} ${d.x},
              ${d.y} ${d.x}`

    return path
  }

  // Toggle children on click.
  function click(d) {
    if (d.children) {
        d._children = d.children;
        d.children = null;
      } else {
        d.children = d._children;
        d._children = null;
      }
    update(d);
  }
}

</script>
</body>
